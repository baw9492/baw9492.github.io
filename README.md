# How to Find a Place Suitable for “Guitar Practice”:Purpose-oriented Geographic Entity Retrievalby Using Online Review Graph Analysis<br>如何找到适合“练吉他”的地方——基于在线评论图分析的针对性地理实体检索

## 摘要
本文提出了一种对地理实体（地点）进行排名的方法，可以实现作为查询给出的目的。大多数现有地图搜索引擎只接受地点名称或地点类型。因此，当搜索者想要找到一个适合“吉他练习”的地方时，他们必须输入一个地方类型，例如“音乐工作室”。要创建这样的查询，需要先验知识（即音乐工作室适合弹吉他） .我们提出的方法使用有关地点的在线评论信息，以便从给定的目的查询中直接检索地点。我们的方法创建了一个由地点和出现在这些地点的评论中的词组成的二部图。给定关键字查询和地点之间的相关性是通过使用随机游走和重启算法来计算的。此外，我们用三个假设展开图：1）适合相同目的的地方彼此相似，并且在同一地方可以实现的目的彼此相似，2）相同的目的可以在具有相同目的的地方实现相似的元数据，以及 3) 语义相似的目的可以在相同的地方实现。通过使用来自谷歌地图的真实评论数据进行实验，证明了所提出方法的有效性。特别是，发现通过地点元数据的扩展对于找到更多相关地点是有效的。

## 1 介绍
近年来，地理信息检索越来越普及。许多人使用地点搜索服务（如谷歌地图）查找商店、设施和其他地点。地点搜索的用户包括对地点事先了解不够的儿童和不善于搜索的老年人。如今，随着越来越多的人使用地理信息检索服务，人们对地理信息检索算法的需求越来越大，这种算法允许用户在没有地理信息先验知识的情况下成功地进行搜索

传统的地理搜索系统只接受地名或地名类型作为查询。因此，为了找到一个可以实现特定目的的地方，用户需要输入场地的类型，或他或她想要找到的地方的特征。例如，如果你想买一本书，你必须搜索“书店”；如果要使用快递服务，必须输入查询“邮局”。让我们想象一下，一个用户正在寻找一个可以实现“吉他练习”的地方。在这种情况下，通常需要使用位置类型查询进行搜索，例如“音乐工作室”。然而，为了创建此查询，用户需要事先了解，例如“我们可以在musicstudio中练习吉他”。因此，在没有这些先验知识的情况下，不可能输入任何可以练习吉他的设施。如果我们可以通过“吉他练习”作为查询，按目的搜索地点，这个问题就可以解决。

此外，即使搜索者事先知道吉他可以在音乐工作室练习，查询“music studio”也可能找不到大量搜索者可以练习吉他的地方。音乐工作室不是唯一可以演奏吉他的地方。有很多地方可以做到这一点：公园、卡拉OK厅、河边等等。在搜索查询中列出所有这些位置是不合理的

在这项研究中，我们提出了一种新的搜索算法，该算法根据位置是否能够达到查询所指示的目的来进行排名。例如，如果用户输入“吉他练习”，系统将对特定地点进行排名，如“东京工作室福店”、“东京卡拉OK店”或“东京中央公园”。我们的搜索算法的目的是允许用户输入目的，以便大范围的用户可以更轻松地搜索地点，而不考虑其先验知识

这种搜索模型之所以有效，是因为搜索难度是不对称的。通过访问官方网站或打电话给某个地方，很容易确定某个地方是否有可能达到某个目的。然而，很难列出候选人名单。如果能够对实现目标的可能性很高的地点进行排名，用户只需几步就可以找到合适的地点. 

在这项研究中，我们将重点放在关于地点的在线评论上，以实现我们的搜索算法。一些地理信息服务，比如谷歌地图，允许用户发布对某个地方的评论。此类审查包括用户在现场采取的许多实际可行的行动。

虽然这些来自地理信息网站的在线评论是一种重要的信息资源，但它们不足以直接实现所提出的搜索算法。原因之一是审查的全面性有限。这些视图信息并不总是描述可以在某个位置执行的所有操作。例如，并非所有可以练习吉他的地方都有这样的评论：“我在这里练习吉他”。因此，基于简单匹配的传统信息检索方法无法充分利用这些评论

因此，我们提出了一种基于图的算法，通过建立以下三个假设来链接给定目的的查询和位置:
1. Mutual Recursive Deduction:
    适合同一目的的地方彼此相似，在同一地方能够实现的目的彼此相似。

2. Expansion by Place Type:
    同样的目的也可以在元数据相似的地方实现。例如，如果你能在某个卡拉OK房间里弹吉他，你很可能会在另一个卡拉OK房间里弹吉他
    元数据: [baike](https://baike.baidu.com/item/%E5%85%83%E6%95%B0%E6%8D%AE/1946090?fr=aladdin) | [wiki](https://zh.wikipedia.org/wiki/%E5%85%83%E6%95%B0%E6%8D%AE)

3. Expansion by Word Semantics:
    语义相似的目的可以在相同的地方实现。例如，如果某个公园得到评论说“这个地方适合演奏四弦琴”，那么这个公园也应该适合演奏吉他

__该方法在二部图上进行带重启的随机游动（RWR）链接分析。此图由位置和这些位置的评论中出现的单词组成。为了阐明我们的方法的有效性，进行了一个使用真实数据的实验。在实验中，我们实现了一个实际的地点搜索系统，该系统使用从谷歌地图获得的审查数据。在这个系统中，当搜索者输入一个目的作为查询时，他们可以获得适合实现该目的的地方的排名。通过使用预先准备好的查询执行实际搜索并手动标记结果来检查该方法的准确性__

本文的结构如下。在第2节中，我们将讨论与我们的方法相关的现有研究。第3节描述了搜索算法的细节。在第四节中，通过实验对所提出的方法进行了评估。第5节讨论了实验结果，第6节给出了结论和未来的工作。

## 2 相关工作
本研究是面向目的搜索算法研究的一部分。我们采用图形方法，通过元数据扩展位置，并使用同义词扩展目的。因此，本研究与现有的地理信息检索、目的扩展和位置推荐研究密切相关。

### 2.1 地理信息检索
主要的地理信息搜索系统通常接受地名、地名类型和地址作为查找地名的查询。因此，人们对搜索进行了大量研究，以实现更灵活的输入，例如扩展查询

Pat 等人开发了一个地理信息检索系统，该系统从 Twitter 和 Instagram 等社交网站收集位置信息（带有地理标签的帖子），并根据地域来表示结果。 通过关注社交网站上带有地理标签的帖子，他们试图使通常静态的地理信息数据库变得动态。

Shoji 等人还提出了一种使用带有地理标签的推文来查找地点的方法。 他们的方法名为“location2vec”，基于类似 word2vec 的算法，它可以通过比较不同地方的推文来找到相似的地方。 然而，由于许多用户通过 SNS 系统自动地理标记发布他们的推文，因此在移动到其他地方后发布的有关该地点的帖子具有错误的地理标记。 因此，带有地理标记的帖子中信息的准确性值得怀疑。 这项研究与目前的研究相似，因为它们也关注用于地理信息检索的社会数据。 但是，我们选择了一个地点的评论信息而不是 SNS 帖子，因为与 SNS 帖子相比，它们包含与该地点相关的信息的可能性要高得多。

__Bauer等人分析了离线购买需求，并提出了一种搜索实体实体实体店的方法，在实体店可以进行实际购买，而在线邮购销售现在很普遍。这是通过查询表示要购买的对象的关键字和分别对位置进行矢量化，并根据余弦相似性对它们进行排序来实现的。这项研究与我们的研究相似，因为搜索目标是实际对象。然而，我们的研究并没有在向量空间模型中使用简单的相似性计算，而是在两部分图上使用链接分析。不同之处在于，我们旨在扩大搜索中输入数据的范围。因此，我们不仅可以找到人们可以从零售商那里买到东西的地方，还可以找到其他地方。__

Kato等人扩展了位置搜索的输入，允许将示例作为查询。在他们的方法中，搜索者可以输入某个地方，系统会找到相似的地方。它有助于按目的查找地点，但搜索者需要知道适合其目的的示例地点。

### 2.2 扩展目的
在本研究中，目的是通过推理在同一位置扩展可行目标，从而提高搜索结果的召回率。换句话说，可以搜索本地产品和同一连锁店中的其他商店，这些商店的评论中不包含查询词

作为扩展目的的一个例子，Pothiratanachaikul等人提出了一种从社区问答（cQA）站点中提取可实现相同目标的备选方案的方法。例如，“服用安眠药”和“喝温牛奶”是可以实现“轻松入睡”相同目标的替代行为。他们的研究使用了一个二分图，由从cQA站点提取的问答信息组成。通过分析这张图，他们能够通过对相似性级别进行排序来找到替代行为。

目的的扩展也是cQA研究中的一个大问题。 Jiwoon 等人提出了一种在 cQA 站点中查找具有类似目的的问题的方法。 它可以帮助有目的但不想在 cQA 网站上提问的人。 这个方法侧重于如何计算问题的相似度。 使用的想法与我们的有关，例如适合相同目的的地方彼此相似，在同一地方可以达到的目的彼此相似 . Wang等人也解决了这个问题。 他们使用了一种使用句法树的基于自然语言处理的方法。 我们的方法必须同时考虑目的相似性和地点相似性。

### 2.3 地点推荐
本研究旨在找到一个可以实现用户目标的地方。出于同样的目的，有一些研究提取地方的特征，并通过推荐和其他方法解决问题。

Kurashima等人提出了一种通过从博客中提取信息并通过主题建模在地图上可视化地点体验的方法来提取地点特征。这项研究使用了一个更详尽但描述较少的回顾来估计在一个位置可以做些什么，以便从查询中发现地理对象。

作为推荐地点的另一项研究，Wang等人扩展了书签着色算法，将社交媒体网站上过去行为的信息、位置信息、用户之间的关系以及用户相似性表示为一个图形。通过使用用户之间的相似性，他们可以以比传统推荐更高的准确性推荐用户可能访问的下一个地方。

许多研究都是通过从社交媒体和CGM（消费者生成媒体）网站收集的信息来评估一个地方的性质。其中，许多研究使用基于位置的社交网络（LBSN），如Twitter。最典型的例子是现实世界中的事件检测或旅行辅助。例如，Dong等人2015年提出了一种利用Flikr照片发现事件的方法。作为一项评估一个地方性质的任务，Zhang等人整合社交媒体信息来评估街道的氛围和使用情况。

POI发现是地理推荐中的另一个重要元素。从社交媒体中发现吸引人们注意力的地点与发现适合实现本研究目标的地点相近。一些研究使用社交媒体信息并检测POI及其用法或类别。一些研究使用了回顾信息以及本研究。

## 3 提出的方法
本节介绍一种新算法：一种将适合直接作为查询给出的目的的位置进行排序的方法。为了实现这样一个检索模型，我们从这些地点的评论中提取地点和在该地点采取的行动。并不是所有可以在一个地方采取的行动都会在这个地方的评论中描述。因此，为了寻找在其审查中没有直接目的或未被审查的地方，该方法必须推断和扩展在该地方可以做什么的目标。

作为目的的扩展，我们在基于图的算法中采用以下三个假设：
1. Mutual Recursive Deduction
2. Expansion by Place Type, and
3. Expansion by Word Semantics

第一个假设是我们算法的重要部分。人们可以达到相同目的的地方彼此相似。例如，公园和河滩是相似的地方，因为你可以在这两个地方做相同的事情（例如，演奏乐器、慢跑、玩接球）。此外，在同一地点可以实现的目的彼此相似。例如，吃热狗和喝啤酒是相似的目的，因为它们都可以在同一个地方实现（例如，餐厅、啤酒厅、棒球场）。为了反映这一假设，该方法创建了一个由地点和目的组成的二部图。因此，通过链接分析执行倒数递归计算。第二个假设基于这样一个观点，即相同的目的可以在类型相似的地方实现。例如，如果你能在星巴克的某家分店买到玉米煎饼，你就可以在星巴克的另一家分店买到。此外，你也可以在其他咖啡店买到墨西哥卷饼。为了整合这一假设，我们的方法通过在位置和位置之间添加链接来修改二部图。最后一个假设意味着语义相似的目的可以在相同的地方实现。例如，如果有可能在某家商店购买卫生纸，那么也有可能在同一家商店购买卫生纸，因为我们的方法通过在目的之间添加虚拟链接来整合这些假设

### 3.1 为相互递归创建二部图
我们的方法使用有关地点的审查信息作为数据源，反映每个地点可以实现的目的。首先，我们的方法制作一个由单词和位置组成的二部图来表达第一个假设。在同一个地方的评论中出现的单词可能彼此相似，而评论中包含相同单词的地方也彼此相似。该图包含两种类型的节点：数据集中的所有位置，以及这些位置的所有评论中的所有单词

整个数据集的示意图如图1所示。审查数据表示为地点li和该地点审查中出现的单词wj之间的关系。此外，地点和关于该地点的元数据之间存在关系，单词与其主题之间也存在关系

首先，我们创建了一个加权有向二分图，重点关注一个地方与评论中的单词之间的关系。 作为预处理步骤，每个评论句子被分成单词。 为了清理用自然语言编写的评论数据，按词类进行词选择。 只有动词、名词和形容词被视为节点。 每个单词都被词形还原，所有动词都被拉直为标准形式，所有单词变化（即复数）都被删除了。 还进行了按频率清洗。出现太频繁或很少出现的词被删除。

最后，如果某个单词出现在该地点的评论中，则地点和单词会通过边连接。 在此阶段创建的二部图显示为图 1 中间的子图，红线和蓝线作为边。

其次，我们从创建的图中创建邻接矩阵M。图2显示了邻接矩阵M最终形状的示意图，其中L是图中所有位置节点的集合，Wis是图中所有单词节点的集合。矩阵M是一个量纲方阵（|L |+| W |），其中| L |和| W |表示集合中元素的数量。

```
Here, the value of each element mij of the matrix M is defined as below. Figure 2 shows the overall structure of matrix M. Let Nw(li) be the subset of W connected to li, and Nl(wi) be the subset of L connected to wi. In Figure 2, the links from places to words are located in the lower left blue part (i.e.,i>|L| and j≤ |L|).mi j is set to 1 if wi is an element of Nw(lj), and is 0 other wise. Similarly, the upper right red part of the matrix in Figure 2 represents the links from words to places.mi j is set to 1 ifliis an element ofNl(wj),and 0 otherwise. That is, in the lower left and upper right part of thematrix in Figure 2,mi j will be 1 if the i-th node and the j-th node are connected by an edge, and 0 otherwise. The review information was rearranged into four relationships, which can be represented as a single adjacency matrix

这里，矩阵M的每个元素mij的值定义如下。 图 2 显示了矩阵 M 的整体结构。设 Nw(li) 是 W 连接到 li 的子集，Nl(wi) 是 L 连接到 wi 的子集。 在图 2 中，从地点到词的链接位于左下方的蓝色部分（即 i>|L| 且 j≤ |L|）。如果 wi 是 Nw(lj) 的元素，则将 j 设置为 1 , 否则为 0。 类似地，图2中矩阵的右上角红色部分表示从单词到地点的链接。如果li是Nl(wj)的元素，则mi j设置为1，否则为0。 也就是说，在图2矩阵的左下角和右上角，如果第i个节点和第j个节点通过边相连，则mi j 为1，否则为0。 评论信息被重新排列成四种关系，可以表示为单个邻接矩阵
```

最后，我们规范化了连接单词和位置的边的权重。当未加权状态下的边数增加时，该值在图中密集部分循环增加。因此，我们将边的权重除以源节点的输出边数

### 3.2 基于场所类型扩展的场所相似度计算
接下来，为了采用假设2（按地点类型展开），我们在图中添加了有关地点之间关系的信息。我们假设可以达到同样的目的

在类似的地方，例如，“东京的星巴克”和“京都的星巴克”，它们是附属商店的独立分支。通过考虑地点之间的相似性，可以找到没有直接审查的地点。因此，我们通过比较位置之间的元数据来扩展该图，以考虑位置之间的相似性。

在大多数在线地图应用程序（如谷歌地图）中，每个地方都有元数据。一种典型的元数据是一个地方的类别信息，例如“餐厅”或“医院”。在这项研究中，我们使用了关于地点的分类信息作为地点的特征。我们使用元数据来计算位置之间的关联度，元数据表示位置之间的关系，并将相似度添加到图中。计算对象之间关联度的方法有多种。在本研究中，我们采用其类别的余弦相似性作为最直接的方法。
* metadata [元数据](https://zh.wikipedia.org/wiki/%E5%85%83%E6%95%B0%E6%8D%AE)
* cosine similarity [余弦相似度](https://zh.wikipedia.org/wiki/%E4%BD%99%E5%BC%A6%E7%9B%B8%E4%BC%BC%E6%80%A7)

一个地点的元数据可以被认为是一个布尔值向量。 这允许我们将地点之间的相似性计算为向量空间中的距离。 地点li的向量li是一个|C|维向量，其中所有元数据的集合定义为C。 如果存在指向元数据 cj∈C 的链接，则向量的第 j 个元素的每个元素都设置为 1，否则设置为 0（参见图 3）。

位置 li 和 lj 之间的相似度 siml(lj,li) 定义为:

$sim_l(l_i,l_j) = { {l_i*l_j} \over {|l_i||l_j|} }$ ,

这是基于余弦相似性

计算成本是实际链路分析计算中的一个大问题。在大多数情况下，链接到某个位置的类别标记数只有1到5个，并且类别标记数少于100个。大多数地方都有一些标签，有些标签使用得太频繁了。我们没有消除频繁标记的解释能力。在我们的实现中，我们设置了一个阈值并切断了一些链接.

因此，我们使用元数据一致性通过在位置之间附加虚拟边来扩展图。在图2矩阵的左上部分（橙色部分），如果位置 l<sub>i</sub>和l<sub>j</sub> 的元数据高度相似，则将 m<sub>ij</sub> 设置为1；否则设置为0。

### 3.3 为扩展目的计算单词相似度
接下来，我们通过关注假设3（按单词语义展开）来扩展该图。计算单词之间的关联度，并将其添加到图形中。例如，吉他和四弦琴在词汇上的意思相近。因此，我们可以扩展结果，以便在哪里可以实现“吉他练习”，就可以实现“四弦琴练习”。因此，我们在它们之间添加了一个虚拟链接。这一扩展的目的是允许不包含其目的的评论直接反映在排名中。在这里，我们扩展了图以考虑单词之间的相似性